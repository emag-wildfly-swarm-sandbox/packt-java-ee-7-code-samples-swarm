<!DOCTYPE html>
<html lang="en" ng-app="ticketApp">
<head>
  <meta charset="UTF-8">
  <title>Ticket Service</title>
  <link rel="stylesheet" href="webjars/bootstrap/3.3.5/css/bootstrap.css">
  <link rel="stylesheet" href="webjars/bootstrap/3.3.5/css/bootstrap-theme.css">
  <style>
    body {
      padding-top: 60px;
    }
  </style>
</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
</div>

<div class="container" ng-controller="SeatCtrl">
  <alert ng-repeat="alert in alerts" type="{{alert.type}}"
         close="closeAlert($index)">
    {{alert.msg}}
  </alert>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Ticket booking</h3>
    </div>

    <div class="panel-body">
      <p>Remaining money: <span class="badge">{{account.balance}}</span></p>
      <br/>

      <button type="button" class="btn btn-primary btn-xs" ng-click="clearWarnings()">
        Clear warnings
      </button>

      <button type="button" class="btn btn-warning btn-xs" ng-click="resetAccount()">
        Reset account
      </button>
    </div>

    <table class="table table-hover table-striped">
      <thead>
      <th>ID</th>
      <th>Name</th>
      <th>Price</th>
      <th>Booked</th>
      <th>Book</th>
      </thead>
      <tbody>
      <tr ng-repeat="seat in seats">
        <td>{{seat.id}}</td>
        <td>{{seat.name}}</td>

        <td>${{seat.price}}</td>
        <td>
          <span class="glyphicon glyphicon-{{seat.booked ? 'ok' :'remove'}}"></span>
        </td>
        <td>
          <button type="button" class="btn btn-primary {{seat.booked? 'disabled' :''}} btn-xs"
                  ng-click="bookTicket(seat)">
            Book
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <footer>
    <p class="text-muted">&copy; Packt Publishing 2014</p>
  </footer>
</div>

<script src="webjars/angularjs/1.3.15/angular.js"></script>
<script src="webjars/angularjs/1.3.15/angular-resource.js"></script>
<script src="webjars/angularjs/1.3.15/angular-route.js"></script>
<script src="webjars/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.js"></script>

<script src="scripts/app.js"></script>
<script src="scripts/controllers/seat.js"></script>
<script src="scripts/services/seatservice.js"></script>
<script src="scripts/services/accountservice.js"></script>
</body>
</html>